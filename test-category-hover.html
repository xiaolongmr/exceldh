<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†ç±»æ ‡ç­¾æ‚¬æµ®æ•ˆæœæµ‹è¯•</title>
    <link rel="stylesheet" href="css/favorites.css">
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .test-title {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .demo-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        .demo-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: #555;
        }
        .instructions {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1 class="test-title">ğŸ·ï¸ åˆ†ç±»æ ‡ç­¾æ‚¬æµ®æ•ˆæœæµ‹è¯•</h1>
        
        <div class="instructions">
            <strong>æµ‹è¯•è¯´æ˜ï¼š</strong><br>
            â€¢ åˆ†ç±»æ ‡ç­¾ç°åœ¨<strong>å®Œå…¨éšè—</strong>ï¼Œä¸æ˜¾ç¤ºä»»ä½•è§†è§‰å…ƒç´ <br>
            â€¢ ä¸ä¼šå½±å“é¡µé¢ç¾è§‚å’Œè¡Œé«˜<br>
            â€¢ <strong>åªåœ¨"å…¨éƒ¨"åˆ†ç±»ä¸‹</strong>ï¼Œå°†é¼ æ ‡æ‚¬æµ®åˆ°æ”¶è—å¡ç‰‡ä¸Šæ—¶æ˜¾ç¤ºåˆ†ç±»tooltip<br>
            â€¢ <strong>åœ¨å…·ä½“åˆ†ç±»ä¸‹ä¸æ˜¾ç¤ºtooltip</strong>ï¼Œå› ä¸ºå·²ç»è¿›å…¥è¯¥åˆ†ç±»é¡µé¢
        </div>

        <div class="demo-section">
            <div class="demo-title">ğŸ—’ï¸ åˆ†ç±»ç­›é€‰æµ‹è¯•</div>
            
            <!-- æ¨¡æ‹Ÿåˆ†ç±»æ ‡ç­¾æ  -->
            <div class="fav-category-tabs" style="margin-bottom: 20px;">
                <button class="fav-category-tab active" onclick="showCategory('all')">å…¨éƒ¨</button>
                <button class="fav-category-tab" onclick="showCategory('æœç´¢å¼•æ“')">æœç´¢å¼•æ“</button>
                <button class="fav-category-tab" onclick="showCategory('å¼€å‘å·¥å…·')">å¼€å‘å·¥å…·</button>
                <button class="fav-category-tab" onclick="showCategory('æŠ€æœ¯ç¤¾åŒº')">æŠ€æœ¯ç¤¾åŒº</button>
            </div>
            
            <!-- æ¨¡æ‹Ÿæ”¶è—åˆ—è¡¨ -->
            <div id="fav-list" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
            </div>
        </div>

        <div class="demo-section">
            <div class="demo-title">âœ… é¢„æœŸæ•ˆæœ</div>
            <ul>
                <li>âœ… åˆ†ç±»æ ‡ç­¾å®Œå…¨éšè—ï¼Œä¸æ˜¾ç¤ºä»»ä½•è§†è§‰å…ƒç´ </li>
                <li>âœ… <strong>åœ¨"å…¨éƒ¨"åˆ†ç±»ä¸‹</strong>ï¼šé¼ æ ‡æ‚¬æµ®æ˜¾ç¤º"åˆ†ç±»: XXX"çš„tooltip</li>
                <li>âœ… <strong>åœ¨å…·ä½“åˆ†ç±»ä¸‹</strong>ï¼šé¼ æ ‡æ‚¬æµ®ä¸æ˜¾ç¤ºtooltip</li>
                <li>âœ… tooltipæœ‰é»‘è‰²åŠé€æ˜èƒŒæ™¯å’Œç®­å¤´æŒ‡ç¤º</li>
                <li>âœ… æ‚¬æµ®æ•ˆæœå¹³æ»‘è¿‡æ¸¡</li>
            </ul>
        </div>

        <div class="demo-section">
            <div class="demo-title">ğŸ¯ æ“ä½œæŒ‡å—</div>
            <p><strong>è¯·æ‰§è¡Œä»¥ä¸‹æµ‹è¯•ï¼š</strong></p>
            <ol>
                <li>åœ¨"å…¨éƒ¨"åˆ†ç±»ä¸‹ï¼Œå°†é¼ æ ‡ç§»åŠ¨åˆ°ä»»æ„æ”¶è—å¡ç‰‡ä¸Š</li>
                <li>ç¡®è®¤å‡ºç°"åˆ†ç±»: XXX"çš„tooltip</li>
                <li>åˆ‡æ¢åˆ°å…·ä½“åˆ†ç±»ï¼ˆå¦‚"æœç´¢å¼•æ“"ï¼‰</li>
                <li>å†æ¬¡æ‚¬æµ®å¡ç‰‡ï¼Œç¡®è®¤<strong>ä¸æ˜¾ç¤º</strong>tooltip</li>
                <li>åˆ‡æ¢å›"å…¨éƒ¨"åˆ†ç±»ï¼Œç¡®è®¤tooltipé‡æ–°æ˜¾ç¤º</li>
            </ol>
        </div>

    </div>

    <script>
        console.log('ğŸ§ª åˆ†ç±»æ ‡ç­¾æ‚¬æµ®æ•ˆæœæµ‹è¯•é¡µé¢å·²åŠ è½½');
        
        // æ‰€æœ‰æ”¶è—æ•°æ®
        const allFavorites = [
            { id: 1, title: 'ç™¾åº¦æœç´¢', desc: 'å…¨çƒæœ€å¤§çš„ä¸­æ–‡æœç´¢å¼•æ“', category: 'æœç´¢å¼•æ“', icon: 'https://www.baidu.com/favicon.ico' },
            { id: 2, title: 'GitHub', desc: 'ä»£ç æ‰˜ç®¡å’Œåä½œå¼€å‘å¹³å°', category: 'å¼€å‘å·¥å…·', icon: 'https://github.com/favicon.ico' },
            { id: 3, title: 'Google', desc: 'å…¨çƒæœ€å¤§çš„æœç´¢å¼•æ“', category: 'æœç´¢å¼•æ“', icon: 'https://www.google.com/favicon.ico' },
            { id: 4, title: 'Stack Overflow', desc: 'ç¨‹åºå‘˜é—®ç­”ç¤¾åŒº', category: 'æŠ€æœ¯ç¤¾åŒº', icon: 'https://stackoverflow.com/favicon.ico' }
        ];
        
        let currentCategory = 'all';
        
        // æ˜¾ç¤ºæŒ‡å®šåˆ†ç±»çš„æ”¶è—
        function showCategory(category) {
            console.log(`ğŸ”„ åˆ‡æ¢åˆ°åˆ†ç±»: ${category}`);
            currentCategory = category;
            
            // ä¸ºbodyæ·»åŠ CSSç±»æ¥æ§åˆ¶tooltipæ˜¾ç¤ºï¼ˆä¸çœŸå®ä»£ç ä¿æŒä¸€è‡´ï¼‰
            if (category === 'all') {
                document.body.classList.remove('specific-category-active');
                console.log('âœ… ç§»é™¤specific-category-activeç±»ï¼Œtooltipå°†æ˜¾ç¤º');
            } else {
                document.body.classList.add('specific-category-active');
                console.log('âŒ æ·»åŠ specific-category-activeç±»ï¼Œtooltipå°†éšè—');
            }
            
            // æ›´æ–°æ ‡ç­¾æ ·å¼
            document.querySelectorAll('.fav-category-tab').forEach(tab => {
                tab.classList.remove('active');
                if (
                    (category === 'all' && tab.textContent === 'å…¨éƒ¨') ||
                    (category !== 'all' && tab.textContent === category)
                ) {
                    tab.classList.add('active');
                }
            });
            
            // ç­›é€‰æ”¶è—
            const filteredFavorites = category === 'all' ? 
                allFavorites : 
                allFavorites.filter(fav => fav.category === category);
            
            // é‡æ–°æ¸²æŸ“æ”¶è—åˆ—è¡¨
            renderFavorites(filteredFavorites);
        }
        
        // æ¸²æŸ“æ”¶è—åˆ—è¡¨
        function renderFavorites(favorites) {
            const favList = document.getElementById('fav-list');
            
            favList.innerHTML = favorites.map(fav => `
                <div class="fav-card" data-category="${fav.category}">
                    <a href="#" class="fav-link" onclick="return false;">
                        <img src="${fav.icon}" class="fav-icon" alt="${fav.title}">
                        <div class="fav-context">
                            <div class="fav-title">${fav.title}</div>
                            <div class="fav-desc">${fav.desc}</div>
                            <span class="fav-category-tag" data-category="${fav.category}"></span>
                        </div>
                    </a>
                </div>
            `).join('');
            
            console.log(`ğŸ¨ æ¸²æŸ“äº† ${favorites.length} ä¸ªæ”¶è—ï¼ˆåˆ†ç±»: ${currentCategory}ï¼‰`);
        }
        
        // æµ‹è¯•å‡½æ•°
        function testCategoryTags() {
            const tags = document.querySelectorAll('.fav-category-tag');
            console.log(`æ‰¾åˆ° ${tags.length} ä¸ªåˆ†ç±»æ ‡ç­¾`);
            
            tags.forEach((tag, index) => {
                const category = tag.getAttribute('data-category');
                console.log(`æ ‡ç­¾ ${index + 1}: ${category}`);
            });
        }
        
        // é¡µé¢åŠ è½½ååˆå§‹åŒ–
        window.addEventListener('load', () => {
            showCategory('all'); // é»˜è®¤æ˜¾ç¤ºå…¨éƒ¨
            testCategoryTags();
        });
        
        // æ·»åŠ æ‚¬æµ®äº‹ä»¶ç›‘å¬
        document.addEventListener('mouseover', (e) => {
            if (e.target.closest('.fav-card')) {
                const card = e.target.closest('.fav-card');
                const category = card.getAttribute('data-category');
                const hasSpecificClass = document.body.classList.contains('specific-category-active');
                
                console.log(`ğŸ‘ï¸ æ‚¬æµ®åˆ°åˆ†ç±»: ${category}`);
                console.log(`ğŸ“Š å½“å‰ç­›é€‰: ${currentCategory}`);
                console.log(`ğŸ·ï¸ body.specific-category-active: ${hasSpecificClass}`);
                console.log(`âœ¨ åº”è¯¥æ˜¾ç¤ºtooltip: ${!hasSpecificClass}`);
            }
        });
    </script>
</body>
</html>